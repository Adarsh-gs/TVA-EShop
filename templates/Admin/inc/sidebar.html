{% load static %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

<style>
    .header {
        background-color: #333;
        color: white;
        padding: 15px 20px; 
        text-align: center;
        z-index: 1030;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); 
    }
    .header h1 {
        margin: 0;
        font-size: 1.8em;
        font-weight: 500; /* Lighter weight for elegance */
    }

    /* Sidebar */
    .sidebar {
        background-color: #f8f9fa; /* Bootstrap bg-light */
        height: calc(100vh - 60px); /* Adjust for header height */
        top: 60px; /* Below header */
        z-index: 1020;
        padding-top: 15px; /* Replaces margin-top: -20px */
        transition: all 0.3s ease; /* Smooth collapse */
        overflow-y: auto; /* Scroll if too many items */
    }
    .sidebar .nav-link {
        color: #333;
        padding: 12px 20px; /* More spacious */
        font-size: 1.1em; /* Slightly larger text */
        border-radius: 10px; /* Rounded edges */
        margin: 5px 10px; /* Spacing between items */
        transition: background-color 0.3s, color 0.3s;
    }
    .sidebar .nav-link:hover {
        background-color: #fff5f4; /* Light coral hover */
        color: #FF6F61; /* Theme color on hover */
    }
    .sidebar .nav-link.active {
        background-color: #FF6F61; /* Theme color for active */
        color: white !important;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle lift */
    }
    .sidebar .nav-link i {
        margin-right: 10px; /* Space between icon and text */
        font-size: 1.2em; /* Slightly larger icons */
    }
    .sidebar .nav-flex-column {
        padding-bottom: 20px; /* Extra space at bottom */
    }

    /* Responsive Adjustments */
    @media (max-width: 767px) {
        .sidebar {
            position: fixed;
            width: 250px; /* Fixed width when collapsed */
            left: -250px; /* Hidden off-screen by default */
            top: 60px;
            height: calc(100vh - 60px);
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);
        }
        .sidebar.active {
            left: 0; /* Slide in when toggled */
        }
        .main-content {
            margin-left: 0 !important; /* Ensure content adjusts */
        }
    }

    /* Toggle Button (Optional) */
    .sidebar-toggle {
        display: none;
        position: fixed;
        top: 70px;
        left: 10px;
        z-index: 1040;
        background-color: #FF6F61;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 5px;
        cursor: pointer;
    }
    @media (max-width: 767px) {
        .sidebar-toggle {
            display: block;
        }
    }
</style>

<div class="header fixed-top">
    <h1>TVA E-Shop</h1>
</div>

<nav class="col-md-3 col-lg-2 d-md-block bg-light sidebar vh-100 position-fixed">
    <div class="position-sticky pt-1">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'admin_dashboard' %}active{% endif %}" href="{% url 'admin_dashboard' %}">
                    <i class="bi bi-speedometer2"></i> Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'admin_customers' %}active{% endif %}" href="{% url 'admin_customers' %}">
                    <i class="bi bi-people"></i> Customers
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'admin_products' %}active{% endif %}" href="{% url 'admin_products' %}">
                    <i class="bi bi-box"></i> Products
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'admin_orders' %}active{% endif %}" href="{% url 'admin_orders' %}">
                    <i class="bi bi-cart"></i> Orders
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'admin_coupons' %}active{% endif %}" href="{% url 'admin_coupons' %}">
                    <i class="bi bi-tags"></i> Coupon
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'admin_offers' %}active{% endif %}" href="{% url 'admin_offers' %}">
                    <i class="bi bi-tags"></i> Offers
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'admin_sales' %}active{% endif %}" href="{% url 'admin_sales' %}">
                    <i class="bi bi-bar-chart"></i> Sales Report
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {% if request.resolver_match.url_name == 'admin_category' %}active{% endif %}" href="{% url 'admin_category' %}">
                    <i class="bi bi-grid"></i> Category
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'admin_settings' %}">
                    <i class="bi bi-gear"></i> Settings
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'admin_logout' %}">
                    <i class="bi bi-box-arrow-right"></i> Logout
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="{% url 'admin_logout' %}"></a>
            </li>
        </ul>
    </div>
</nav>

<!-- Optional Toggle Button for Mobile -->
<button class="sidebar-toggle" onclick="toggleSidebar()">â˜°</button>

<script>
    function toggleSidebar() {
        document.querySelector('.sidebar').classList.toggle('active');
    }
</script>